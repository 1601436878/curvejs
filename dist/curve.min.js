/**
 * curvejs v0.2.0 By dntzhang
 * Github: https://github.com/AlloyTeam/curvejs
 * MIT Licensed.
 */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.curvejs=i()}(this,function(){"use strict";function t(t,i,n,e,o,a,s){var r={x:t-n,y:i-e},c=[[Math.cos(o),-Math.sin(o)],[Math.sin(o),Math.cos(o)]];s[a]=n+c[0][0]*r.x+c[0][1]*r.y,s[a+1]=e+c[1][0]*r.x+c[1][1]*r.y}function i(i,n){var e=(i[0]+i[6])/2,o=(i[1]+i[7])/2;t(i[0],i[1],e,o,n,0,i),t(i[2],i[3],e,o,n,2,i),t(i[4],i[5],e,o,n,4,i),t(i[6],i[7],e,o,n,6,i)}function n(t,i){var n=t*t+i*i;if(0===n)return[0,0];var e=Math.sqrt(n);return[t/e,i/e]}function e(t,i){return t*t+i*i}function o(t){var i=f.n(t[0]-t[6],t[1]-t[7]);t[0]+=i[0],t[1]+=i[1],t[6]-=i[0],t[7]-=i[1]}function a(t){var i=f.n(t[0]-t[6],t[1]-t[7]);t[0]-=i[0],t[1]-=i[1],t[6]+=i[0],t[7]+=i[1]}function s(t){}function r(t,i){var n=[t[2]-t[0],t[3]-t[1]],e=[t[4]-t[2],t[5]-t[3]],o=[t[6]-t[4],t[7]-t[5]],a=[i[2]-i[0],i[3]-i[1]],s=[i[4]-i[2],i[5]-i[3]],r=[i[6]-i[4],i[7]-i[5]],c=f.n(a[0]-n[0],a[1]-n[1]);t[0]-=c[0],t[1]-=c[1];var h=f.n(s[0]-e[0],s[1]-e[1]);t[4]+=h[0],t[5]+=h[1];var u=f.n(r[0]-o[0],r[1]-o[1]);t[6]+=u[0],t[7]+=u[1]}function c(t){t[2]+=t[2]>t[0]?-1:1,t[3]+=t[3]>t[1]?-1:1,t[4]+=t[4]>t[6]?-1:1,t[5]+=t[5]>t[7]?-1:1}function h(t,i){var n=[[Math.cos(i.angle),-Math.sin(i.angle)],[Math.sin(i.angle),Math.cos(i.angle)]];this.data.angle+=i.step,t[0]=t[0]+n[0][0],t[1]=t[1]+n[1][0],t[6]=t[6]+n[0][0],t[7]=t[7]+n[1][0]}!function(){Date.now||(Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i){var n=t[i];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var e=0;window.requestAnimationFrame=function(t){var i=Date.now(),n=Math.max(e+16,i);return setTimeout(function(){t(e=n)},n-i)},window.cancelAnimationFrame=clearTimeout}}();var u=function(t,i){var n=this.copyPoints,e=i.angle,o=i.r,a=[[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]];t[0]=n[0]+a[0][0]*o,t[1]=n[1]+a[1][0]*o,t[2]=n[2]+a[0][0]*o,t[3]=n[3]+a[1][0]*o,t[4]=n[4]+a[0][0]*o,t[5]=n[5]+a[1][0]*o,t[6]=n[6]+a[0][0]*o,t[7]=n[7]+a[1][0]*o,i.angle+=i.step},l=function(t,i){t.forEach(function(n,e){t[e]+=i[e]})},f={n:n,sl:e},p={close:a,open:o,auto:s},v={dance:u,move:l,rotate:i,to:r,line:c,circle:h,close:p.close,open:p.open},d=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),_=function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)},m=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i},y=function(){function t(i){d(this,t),this.points=i.points||[],this.color=i.color||"black",this.x=i.x||0,this.y=i.y||0,this.vision=i.vision||[],this.visionMax=640,this.visionInterval=i.visionInterval||10,this._preDate=Date.now(),this._now=new Date,this.data=i.data,this._noop=function(){},this._ease=function(t){return t},this._targetPoints=null,this.copyPoints=this.points.slice(0),this.motion=i.motion||this._noop,(void 0===i.initVision||i.initVision)&&this._initVision(i.visionCount||80)}return w(t,[{key:"_initVision",value:function(){for(var t=0;t<80;t++)this.tick(!0)}},{key:"tick",value:function(t){this._now=Date.now(),(this._now-this._preDate>this.visionInterval||t)&&(this.vision.push.apply(this.vision,this.points),this.vision.length>this.visionMax&&this.vision.splice(0,8),this._preDate=this._now),this.pauseMotion||this.motion.call(this,this.points,this.data),this._targetPoints&&this._pointsTo()}},{key:"pause",value:function(){this.pauseMotion=!0}},{key:"play",value:function(){this.pauseMotion=!1}},{key:"draw",value:function(t){this.tick(),t.save(),t.translate(this.x,this.y),t.globalAlpha=1;var i=this.points;t.beginPath(),t.strokeStyle=this.color,t.moveTo.call(t,i[0],i[1]),t.bezierCurveTo.call(t,i[2],i[3],i[4],i[5],i[6],i[7]),t.stroke();for(var n=this.vision,e=0,o=n.length;e<o;e+=8)t.globalAlpha=e/this.visionMax*.1,t.beginPath(),t.moveTo.call(t,n[e],n[e+1]),t.bezierCurveTo.call(t,n[e+2],n[e+3],n[e+4],n[e+5],n[e+6],n[e+7]),t.stroke();t.restore()}},{key:"pointsTo",value:function(t,i,n){var e=this.points;this._targetPoints=t,this._pto=n,this._ptStart=n.start||this._noop,this._ptProgress=n.progress||this._noop,this._ptEnd=n.end||this._noop,this._ptEase=n.ease||this._ease,this._ptTime=i,this._ptStartTime=Date.now(),this._ptCopyPoints=e.slice(0),this._ptDistance=[t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3],t[4]-e[4],t[5]-e[5],t[6]-e[6],t[7]-e[7]],this._ptStart.call(this,0)}},{key:"_pointsTo",value:function(){var t=this,i=this.points,n=Date.now()-this._ptStartTime;if(n<this._ptTime){var e=n/this._ptTime;i.forEach(function(n,o){i[o]=t._ptCopyPoints[o]+t._ptDistance[o]*t._ptEase(e)}),this._ptProgress.call(this,e)}else i=this._targetPoints.slice(0),this._ptEnd.call(this,1),this._targetPoints=null}},{key:"colorTo",value:function(){}},{key:"clone",value:function(){}}]),t}(),g=function(){function t(){d(this,t),this.children=[]}return w(t,[{key:"add",value:function(t){this.children.push(t)}},{key:"remove",value:function(t){for(var i=0,n=this.children.length;i<n;i++)if(t===this.children[i]){this.children.splice(i,1);break}}},{key:"draw",value:function(t){this.children.forEach(function(i){i.draw(t)})}}]),t}(),b=function(t){function i(t,n,e){d(this,i);var o=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return 1===arguments.length?(o.canvas=t,o.ctx=o.canvas.getContext("2d"),o.width=o.canvas.width,o.height=o.canvas.height):3===arguments.length&&(o.canvas=document.createElement("canvas"),o.canvas.width=t,o.canvas.height=n,o.width=t,o.height=n,o.ctx=o.canvas.getContext("2d"),document.querySelector(e).appendChild(o.canvas)),o}return _(i,t),w(i,[{key:"update",value:function(){var t=this;this.ctx.clearRect(0,0,this.width,this.height),this.children.forEach(function(i){i.draw(t.ctx)})}},{key:"addExistLine",value:function(t){}},{key:"sameAs",value:function(t){}}]),i}(g),k={c:[[70,70,12,76,12,123,70,128]],u:[[25,68,23,140,80,140,74,100],[73,62,72,90,75,110,93,134]],r:[[21,62,21,62,21,128,21,128],[21,128,17,96,17,68,65,60]],v:[[12,58,41,132,61,132,96,58]],e:[[44,104,112,52,-20,82,77,136]],j:[[52,48,53,48,54,49,52,48],[8,175,24,204,60,197,56,74]],s:[[81,72,17,42,105,145,41,120]],l:[[77,27,30,114,36,126,57,126]],i:[[56,71,56,72,59,70,56,73],[47,93,59,81,47,121,59,111]]},x=function(t){function i(t,n){d(this,i);var e=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n=Object.assign({x:0,y:0,color:"black"},n),e.x=n.x,e.y=n.y,e.color=n.color,e.word=t,e.data=n.data,e.motion=n.motion,e.points=k[t],e._init(),e}return _(i,t),w(i,[{key:"_init",value:function(){var t=this;this.points.forEach(function(i){t.add(new y({x:t.x,y:t.y,points:i,color:t.color,data:t.data,motion:t.motion}))})}}]),i}(g);return{Curve:y,Group:g,Stage:b,motion:v,Word:x}});
